
#### Prices

### This file provides the equations defining the prices.

## Domestic production price of commodity $c$
PYQ[c] * YQ[c] = sum(PY[s] * Y[c, s] if Y[c, s] <> 0 on s) if YQ[c] <> 0

## Notional production price of sector $s$
PY_n[s] = CU_n[s] * (1 + MARKUP[s])

## Notional mark-up of the sector $s$
d(log(1+MARKUP_n[s]))  = RHO_MARKUP_Y *  d(log(CUR[s]))                   if Y[s] > 0

## Notional mark-up of the sector $s$ (definition 2)
d(log(1+MARKUP_n2[s])) = RHO_MARKUP_Y * (d(log(Y[s])) - d(log(Y[s]{-1}))) if Y[s] > 0

# Notice that this is strictly equivalent to:
# d(log(1+MARKUP_n[s])) = RHO_MARKUP_Y * (d(log(Y[s])) - d(log(YCAP[s]{-1}))) if Y[s] > 0
# Which is quite close to the specification previously used:
# d(log(1+MARKUP_n[s])) = RHO_MARKUP_Y * (d(log(Y[s])) - d(log(Y[s]{-1}))) if Y[s] > 0

## Production capacity of the sector $s$
d(log(YCAP[s])) = sum(phi[f, s]{-1} * d(log(F[f, s]*PROG[f, s])) if F[f, s] <> 0 on f) + ADJUST_YCAP_Y[s] * (log(Y[s]{-1}) - log(YCAP[s]{-1} * @elem(CUR[s], %baseyear))) if YCAP[s] <> 0

## Capacity Utilisation ratio of the sector $s$
CUR[s]          = Y[s] / YCAP[s]

## Average mark-up on commodity $c$
(1 + MARKUP[c]) = PYQ[c] * YQ[c] / (sum(CU[s] * Y[c, s] if Y[c, s] <> 0 on s)) if YQ[c] <> 0

# To define the notional price, it is preferable to use the notional unit cost of production instead of the effective one. This lead to a more stable dynamic and gives a better representation of anticipation.
## Notional unit cost of production in sector $s$
CU_n[s] * Y[s]  = sum(C[f, s] * F_n[f, s] on f) + NTAXI_VAL[s]

## Unit cost of production in sector $s$
CU[s]   * Y[s]  = sum(C[f, s] * F[f, s]   on f) + NTAXI_VAL[s]

## Labor cost in sector $s$
C[L, s]         =  W[s] * (1 + RRSSC[s])

# It is preferable to calculate the user cost of capital based on the price of capital rather than on the price of investment. Indeed the price of the average capital installed is lower than the one of investment because of inflation. Using the price of investment tend to over estimate the cost of capital because it assumes that the debt contracted to finance past investments is indexed on inflation which is not the case in reality.
## Capital cost in sector $s$
C[K, s]         = PK[s] * (Rdep[s] + r[s])


# The price of capital is calibrated by rewriting this equation in the long run. It is always smaller than 1 because it is calibrated as follows: PK[s] = PI[s]*(Rdep[s]+GR_REAL)*(1+GR_PRICES)/(Rdep[s]-1+(1+GR_REAL)*(1+GR_PRICES))
## Price of capital in sector $s$
PK[s] * F[K, s] = (1 - Rdep[s]) * PK[s]{-1} * F[K, s]{-1} + PI[s] * I[s]

# In first approximation the cost of energy correspond to the energy price. However if the producer is forward looking, she will integrate the anticipation of price increase in it definition of the user cost of energy. In this case the specification becomes ....
## Energy costs in sector $s$
C[E, s]         = PE[s]

## Materials costs in sector $s$
C[MAT, s]       = PMAT[s]

# Aggregate costs for capital, labor, energy and material
## Aggregate cost of capital
C[K]   * F[K]   = sum(C[K, s] * F[K, s] on s)

## Aggregate cost of labor
C[L]   * F[L]   = sum(C[L, s] * F[L, s] on s)

## Aggregate cost of energy
C[E]   * F[E]   = sum(C[E, s] * F[E, s] on s)

## Aggregate cost of materials
C[MAT] * F[MAT] = sum(C[MAT, s] * F[MAT, s] on s)




# To derive the volume, we assume that the price is the consumer price
## Gross wages paid by sector $s$ including employees (but not employers)' social contribution
WAGES[s] * PWAGES[s] = W[s] * F[L, s]

## Price Index for gross wages
PWAGES[s] = P


# For CH (households'consumption); G (public spending); X (exports)

## Price of commodity $c$ for household final consumption expenditure
PCH[c]    * CH[c]     = PCHD[c]    * CHD[c]    + PCHM[c]    * CHM[c]        if CH[c]      <> 0

## Price of commodity $c$ for government final consumption expenditure
PG[c]     * G[c]      = PGD[c]     * GD[c]     + PGM[c]     * GM[c]         if G[c]       <> 0

## Price of commodity $c$ for exports use
PX[c]     * X[c]      = PXD[c]     * XD[c]     + PXM[c]     * XM[c]         if X[c]       <> 0

## Price of commodity $c$ for sector $s$ for intermediary consumption use
PCI[c, s] * CI[c, s]  = PCID[c, s] * CID[c, s] + PCIM[c, s] * CIM[c, s]     if CI[c, s]   <> 0

## Materials price for sector $s$
PMAT[s]   * F[MAT, s] = sum(PCI[cm, s] * CI[cm, s] if CI[cm, s] <> 0 on cm) if F[MAT, s]  <> 0

## Energy price for sector $s$
PE[s]     * F[E, s]   = sum(PCI[ce, s] * CI[ce, s] if CI[ce, s] <> 0 on ce) if F[E, s]    <> 0

# Average selling price for domestic commodity c (Value & volume)

# YQS[c] is the volume of the production expressed at market price. It should not be seen as a composite of several "goods": production at base price, margins and taxes. Its does not increase when the volume of the margins and taxes increase. The price does instead. This is equivalent to assuming that YQS[c] is always proportionnal to and YQ[c] since the volume of margins and taxes depends on the latter. Writing it following the specification composite of several goods, YQS[c] = YQ[c] + MGPD[c] + NTAXPD[c], would lead to inacurate results since a decrease in the quantity of margins used per unit of production would not lead to a decrease of the selling price.
## Selling price of commodity $c$
PYQS[c] * YQS[c] = PYQ[c] * YQ[c] + PMGPD[c] * MGPD[c] + NTAXPD_VAL[c]      if YQS[c]      <> 0

## Quantity of domestically produced commodity $c$ expressed at selling price
d(log(YQS[c]))   =    d(log(YQ[c]))	                                        if YQS[c]      <> 0

## Selling price for imported commodity $c$
PMS[c]  * MS[c]  = PM[c]  * M[c]  + NTAXPM_VAL[c]    + PMGPM[c] * MGPM[c]   if MS[c]       <> 0

## Quantity of imported commodity $c$ expressed at selling price
d(log(MS[c]))    =    d(log(M[c]))                                          if MS[c]       <> 0


# We assume that the margins paid on domestic and imported commodities can be produced by domestic and foreign (using the import share of the margin received). The price of the margins paid to commodity cc is assumed commun to all commodity c.
## Price of the margins paid to commodity $cc$ on domestically produced commodity $c$
PMGPD[cc, c] * MGR[cc] = PMGRD[cc] * MGRD[cc] + PMGRM[cc] * MGRM[cc]        if MGPD[cc, c] <> 0

# This price is the same as the one paid on domestic commodity because of the assumption given in the previous equation.
## Price of the margins paid to commodity $cc$ on imported commodity $c$
PMGPM[cc, c] = PMGPD[cc, c] if MGPM[cc, c] <> 0

## Price of margins received on domestically produced commodity $c$
PMGRD[c]     = PYQS[c]      if MGRD[c]     <> 0

## Price of margins received on imported commodity $c$
PMGRM[c]     = PMS[c]       if MGRM[c]     <> 0

# Price of intermediary raw material consumption domestically produced c of sector s

## Price of domestically produced commodity $c$ for sector $s$ for intermediate consumption use
PCID[c, s]   = PYQS[c]      if CID[c, s]   <> 0

## Price of imported commodity $c$ for sector $s$ for intermediate consumption use
PCIM[c, s]   = PMS[c]       if CIM[c, s]   <> 0

## Price of domestically produced commodity $c$ for households final consumption expenditure
PCHD[c]      = PYQS[c]      if CHD[c]      <> 0

## Price of imported commodity $c$ for households final consumption expenditure
PCHM[c]      = PMS[c]       if CHM[c]      <> 0

## Price of domestically produced commodity $c$ for government final consumption expenditure
PGD[c]       = PYQS[c]      if GD[c]       <> 0

## Price of imported commodity $c$ for government final consumption expenditure
PGM[c]       = PMS[c]       if GM[c]       <> 0

## Price of domestically produced commodity $c$ for investment use
PID[c, s]    = PYQS[c]      if ID[c, s]    <> 0

## Price of imported commodity $c$ for investment use
PIM[c, s]    = PMS[c]       if IM[c, s]    <> 0

## Price of domestically produced commodity $c$ for export use
PXD[c]       = PYQS[c]      if XD[c]       <> 0

## Price of imported commodity $c$ for export use
PXM[c]       = PMS[c]       if XM[c]       <> 0

## Price of domestically produced commodity $c$ for change in inventories use
PDSD[c]      = PYQS[c]      if DSD[c]      <> 0

## Price of imported commodity $c$ for change in inventories use
PDSM[c]      = PMS[c]       if DSM[c]      <> 0

## Price of imported commodity $c$
PM[c]        = TC * PWD[c]  if M[c]        <> 0

# This general specification combines various wage equation found in the literature: the Phillips curve and the WS curve. The WS curve Ã  la Layard et al. (2005) requires the following constraints : RHO_W_P[s] = RHO_W_PROG[s] = 1, RHO_W_U[s] = RHO_W_Cons[s] = 0.
## Notional wage in sector $s$
d(log(W_n[s])) = RHO_W_Cons[s] + RHO_W_P[s]*d(log(P)) + RHO_W_Pe[s]*d(log(P_e)) + RHO_W_PROG[s]*d(log(PROG_L[s])) - RHO_W_U[s] * (UnR - DNAIRU) - RHO_W_DU[s]*d(UnR) + RHO_W_L[s]*d(log(F[L, s]) - log(F[L])) if W_n[s] <> 0

# In order to have a NAIRU that is not predetermined, we have to assume that the constant is a function of the unemployment rate:
#d(RHO_W_Cons[s]) = 0.9 * RHO_W_U[s] * d(UnR)

## Average wage
W * F[L] = (sum(W[s] * F[L, s] on s))

## Consumer Price Index
P = PCH

# "Original" rule
## Notional interest rate of the Central Bank (Taylor rule)
d(R_n)      = RHO_Rdir_Cons + RHO_Rdir_P * d(d(P)/P{-1}) - RHO_Rdir_UnR * d(UnR)

# We assume a constant premiun on the interest rate of the Central Bank
## Interest rate paid on capital by sector $s$
d(R[s])     = d(R)

# We assume a constant premiun on the interest rate of the Central Bank
## Interest rate paid by the Governement on its debt
d(r_DEBT_G) = d(r)
