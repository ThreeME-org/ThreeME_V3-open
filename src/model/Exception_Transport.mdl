include ..\model\lists
 

##### Transport

## This file provides the equations defining the hybrid block on transport.

#### Link with the rest of the model

##! Price of long distance transport (by automobile and train)  
d(log(P_km_traveler[crai])) = d(log(PCH[crai])) 
d(log(P_km_traveler[croa])) = d(log(PCH[croa]))

#### Arbitrage between transport modes 

### Level 1: Determination of air, long and short distance transport

##! Kilometer-travelers for air transport
d(log(Km_traveler[cair])) = (@year>%baseyear)*(1.5 * d(log(DISPINC_AT_VAL/PCH)) - 0.7 * d(log(PCH[cair])-log(PCH)))

##! Kilometer-travelers for long distance transport (by automobile and train)      
d(log(km_traveler_LD)) = (@year>%baseyear)*(0.6 * d(log(DISPINC_AT_VAL/PCH)) - 0.4 * d(log(P_km_traveler_LD/PCH)))

##! Price of long distance Kilometer-traveler (automobile and train)   
P_km_traveler_LD * km_traveler_LD = P_km_traveler[crai] * km_traveler[crai] + P_km_trav_auto_LD * km_trav_auto_LD

# Replace the previous approximation below:
# d(log(P_km_traveler_LD)) = (km_traveler[crai]{-1} * d(log(PCH[crai])) + km_trav_auto_LD{-1} * d(log(P_km_trav_auto_LD))) / (km_traveler[crai]{-1} + km_trav_auto_LD{-1})
 
##! Kilometer-travelers for short distance transport (by automobile and bus)     
d(log(km_traveler_SD)) = (@year>%baseyear)*(0.4*d(log(DISPINC_AT_VAL/PCH)) - 0.3 * d(log(P_km_traveler_SD/PCH)))

##! Price of short distance  Kilometer-traveler (by automobile and bus)    
P_km_traveler_SD * km_traveler_SD = P_km_traveler[croa] * km_traveler[croa] + P_km_trav_auto_SD * km_trav_auto_SD

# Replace the previous approximation below:
# d(log(P_km_traveler_SD)) = (km_traveler[croa]{-1} * d(log(PCH[croa])) + km_trav_auto_SD{-1} * d(log(PCH_auto_SD))) / (km_traveler[croa]{-1} + km_trav_auto_SD{-1})


### Level 2: Arbitrage between long distance transport (automobile and train)
 
##! Share of Kilometer-travelers by automobile into the long distance Kilometer-travelers
phi_km_trav_auto_LD = P_km_trav_auto_LD * km_trav_auto_LD / (P_km_traveler_LD * km_traveler_LD)

##! Kilometer-travelers for long distance by automobile 
d(log(km_trav_auto_LD)) = (@year > %baseyear) * (d(log(km_traveler_LD)) _
                              +  0.5 * (1 - phi_km_trav_auto_LD{-1}) * d(log(P_km_trav_auto_LD)-log(P_km_traveler[crai]))) 

##! Kilometer-travelers for transport by train 
d(log(km_traveler[crai])) = (@year>%baseyear)*(d(log(km_traveler_LD)) _
                              -  0.5 * phi_km_trav_auto_LD{-1} * d(log(P_km_traveler[crai])-log(P_km_trav_auto_LD)))
    
### Level 2: Arbitrage between short distance transport (automobile and bus)
##! Kilometer-travelers for short distance by automobile 
d(log(km_trav_auto_SD)) = (@year > %baseyear) * (d(log(km_traveler_SD)) _ 
                             - 0.2 * (1 - phi_km_trav_auto_SD{-1}) * d(log(P_km_trav_auto_SD)-log(P_km_traveler[croa])))

##! Share of Kilometer-travelers by automobile into the short distance Kilometer-travelers
phi_km_trav_auto_SD = P_km_trav_auto_SD * km_trav_auto_SD / (P_km_traveler_SD * km_traveler_SD)

##! Kilometer-travelers for transport by road (bus)
d(log(km_traveler[croa])) = (@year > %baseyear) * (d(log(km_traveler_SD)) _ 
                             - 0.2 * phi_km_trav_auto_SD{-1} * d(log(P_km_traveler[croa])-log(P_km_trav_auto_SD))) 

### Level 3: Transport by automobile
##! Kilometers for long distance by automobile 
d(log(km_auto_LD)) = d(log(km_trav_auto_LD)) - d(log(travperauto_LD))

##! Kilometers for short distance by automobile 
d(log(km_auto_SD)) = d(log(km_trav_auto_SD)) - d(log(travperauto_SD))

##! Total kilometers by automobile 
KM_AUTO = km_auto_LD + km_auto_SD

#Nombre d'autos

# AUTO[ce]=sum(AUTO[ecl,ce] on ecl)

