##### Exception equations for ThreeME - France - FNTP

### Adding investment in infrustructure 

##! Domestically produced change in inventories $c$
@over DSD[c] = DSDbis[c] + INV_INFRA[c]
# For simplicity shock specified through the change in inventory. Endogenising this variable ensures no accountancy inconsitency.

##! Investment in civil ingeniering infrastructure  of commodity $c$
INV_INFRA[c] = INV_REDUC[c] + INV_RESTAU[c] + INV_RESI[c]

##! Investment in civil ingeniering infrastructure
INV_INFRA = sum(INV_INFRA[c] on c)

##! Investment in civil ingeniering infrastructure related to REDUCTION
INV_REDUC = sum(INV_REDUC[c] on c)

##! Investment in civil ingeniering infrastructure related to RESTAURATION
INV_RESTAU = sum(INV_RESTAU[c] on c)

##! Investment in civil ingeniering infrastructure related to RESILIENCE
INV_RESI = sum(INV_RESI[c] on c)

##! Aggregate spending of the Government expressed in value
@over SPEND_G_VAL 		  = PG  * G  + SOC_BENF_VAL + DEBT_G_VAL{-1} * (Phi_RD_G{-1} + r_DEBT_G{-1}) + PDSD * INV_INFRA

##! Primary balance of the Government expressed in value (deficit) (for verification)
@over Bal_G_Prim_VALbis = INC_G_VAL - (PG  * G  + SOC_BENF_VAL + PDSD * INV_INFRA)

### Fitting energy imports: adding price signal

##! Notional substitution effect induced by a change in the relative price between imported and domestically produced commodity $c$ for households final consumption
@over d(SUBST_CHM_n[c]) 	= - ES_CHM[c]  * d(log(PCHD[c])  - log(PCHM[c])) + d(log(PSM[c]))	     if CHM[c]    <> 0

##! Notional substitution effect induced by a change in the relative price between imported and domestic intermediary consumption in commodity $c$ from the sector $s$
@over d(SUBST_CIM_n[c, s]) = - ES_CIM[c, s] * d(log(PCID[c, s]) - log(PCIM[c, s])) + d(log(PSM[c]))        if CIM[c, s] <> 0

### Fitting baseline GDP

##! Labor technical progress gain
log(1 + GR_PROG[L, s]) = d(log(GDP_trend)) - d(log(POP))

##! Government expenditures
d(log(EXPG)) = d(log(GDP_trend)) + 0.5 * GDP_cont

##! World demand 
d(log(WD[c])) = d(log(GDP_trend)) + 0.5 * GDP_cont

